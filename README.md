# reimagined-train
Hello,
I have designed an interface PCB between 1 ESP32, 1 DM556 and 4 NEMA17 Stepper motors. The main objective of this board is to control only one of the 4 NEMA17 motors at one time using only one DM556, and only one motor will be on at a time. I've used PS2801 1-4 optocoupler for efficient control switching between the motors. Also it provides isolation between ESP32 and the motors so that no damage is done to the host MCU. The PUL and DIR pins will receive signal from ESP32 which will be sent to DM556. After that, the DM556 will send respective signal to the motors through A+,A-,B+ and B-. However, the user can control which motor will be receiving the power by sending the required signal from ESP32. P-channel MOSFETs are used in high-side switching mode to control the power going to the motors. I've also interfaced the enable pin of DM556 with ESP32. This is because while switching, we'll first send HIGH to the enable of the driver, which will make it stop/disable it, and only after the control moves to another motor, the enable pin will become LOW, thus enabling the driver. This was a precaution that I took so that no damage is done to the DM556 driver. I've also implemented indicator LEDs which'll show which motor is on at any given time; also an LED is also asociated with enable pin, which will indicate the change of motors. I've placed test points for A+,A-,B+ and B- for easy checking of phases of the motor using multimeter. Also, testpoints at the gate of the power MOSFETs are placed so that we can observe the proper working of the high-side switching and can identify in case of any error. Molex connectors are used in all cases so that the wires can be easily attached/detached. Mounting holes of 6mm diameter(M6) are present at four corners of the PCB. Also, the required reference texts are added on the silkscreen for easier understanding of the user. 
THANK YOU FOR YOUR PATIENCE! :)
